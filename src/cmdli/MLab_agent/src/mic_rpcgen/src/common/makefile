# makefile for the behavior controller common directory
#
# Written by: Douglas C. MacKenzie
#
# Copyright 1996-2002.  All Rights Reserved.
# Mobile Intelligence Corporation
# Livonia, Michigan, USA
# 
#********************************************************************

# $Id: makefile,v 1.1.1.1 2008/07/14 16:44:17 endo Exp $

# ---------------------------------------------------
 
# Get system wide defaults
include $(SUPPORT_DIR)/make.include
include ../../make.local

# ---------------------------------------------------

C_SRCS = rpc_main.c rpc_hout.c rpc_cout.c rpc_parse.c \
	rpc_scan.c rpc_util.c rpc_svcout.c rpc_clntout.c \
	rpc_tblout.c rpc_sample.c

ifeq ($(TARGET_OS),linux)
   LLIBS =  
endif
ifeq ($(TARGET_OS),win32)
   LLIBS = kernel32.lib user32.lib gdi32.lib winspool.lib comdlg32.lib \
       advapi32.lib shell32.lib ole32.lib oleaut32.lib uuid.lib \
       odbc32.lib odbccp32.lib /subsystem:console
endif
ifeq ($(TARGET_OS),djgpp)
   LLIBS =
endif

# ---------------------------------------------------

INCLUDES = -I../include -I../../../support -I$(LIBMIC_DIR)/include \

all: ../$(BINARY) 

../$(BINARY): $(OBJS) 
	sh $(MIC_ROOT)/support/build_counter.sh
	$(SCC) -c $(SCFLAGS) $(VERSIONFLAGS)
	$(LD) $(OBJS) $(VERSIONOBJ) $(LDOPTS) $(LDFLAGS) $(LLIBS) $(LIBS) \
		$(EXENAMEFLAG)$@

# Get general, invariant targets
include $(SUPPORT_DIR)/make.targets

###########################################################################
# dependencies generated by makedepend

# DO NOT DELETE

